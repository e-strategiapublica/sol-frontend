<div class="container-fluid">
	<div class="row mt-5">
		<div class="col-md-12">
			<h2 class="text-dark"><strong>{{"ITEMS.REGISTER_ITEM_TITLE" | translate}}</strong></h2>
			<hr class="bg-secondary">
		</div>
	</div>
	<div class="row">
		<div class="col-md-7">
			<section>
				<form [formGroup]="form" (ngSubmit)="onSubmit()">
					<div class="row">

						<!-- Group -->	
						<div class="col-md-12 mt-3">
												
							<label for="category"
								class="font-archivo font-size-16 font-weight-medium text-secondary m-0">
								<b>{{"ITEMS.GROUP_TITLE" | translate}}</b>
							</label>
							
							<select name id="category" formControlName="group" class="form-control" [(ngModel)]="selectedGroup">
								<option value="1" disabled selected>{{"BUTTON_TEXT.SELECT" | translate}}</option>								
								<option *ngFor="let item of groupList" [value]="item._id">
								 	{{ item.code +' '+ item.segment}}
								</option>
							</select>

							<div *ngIf="form.controls['group'].errors?.['required'] && isSubmit"
								class="div-msg-error mt-2">
								<img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt>
								<p class="font-poppins font-size-14 m-0">{{"CATEGORIES_SEGMENTS.CATEGORY_REQUIRED" |
									translate}}</p>
							</div>

						</div>	

						<!-- Class -->	
						<div class="col-md-12 mt-3">
												
							<label for="category"
								class="font-archivo font-size-16 font-weight-medium text-secondary m-0">
								<b>{{"ITEMS.CLASS_TITLE" | translate}}</b>
							</label>
							
							<select name id="category" formControlName="class" class="form-control" [(ngModel)]="selectedClass">
								<option value="1" disabled selected>{{"BUTTON_TEXT.SELECT" | translate}}</option>								
								<option *ngFor="let item of classList" [value]="item._id">
								 	{{ item.code +' '+ item.description}}
								</option>
							</select>

							<div *ngIf="form.controls['group'].errors?.['required'] && isSubmit"
								class="div-msg-error mt-2">
								<img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt>
								<p class="font-poppins font-size-14 m-0">{{"ITEMS.CLASS_REQUIRED" |
									translate}}</p>
							</div>

						</div>		

						<!-- PDM -->						
						<div class="col-md-12 mt-3">
												
							<label for="category"
								class="font-archivo font-size-16 font-weight-medium text-secondary m-0">
								<b>{{"ITEMS.PDM_TITLE" | translate}}</b>
							</label>
							
							<select name id="category" formControlName="pdm" class="form-control" [(ngModel)]="selectedPdm">
								<option value="1" disabled selected>{{"BUTTON_TEXT.SELECT" | translate}}</option>								
								<option *ngFor="let item of pdmList" [value]="item._id">
								 	{{ item.code +' '+ item.name}}
								</option>
							</select>

							<div *ngIf="form.controls['group'].errors?.['required'] && isSubmit"
								class="div-msg-error mt-2">
								<img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt>
								<p class="font-poppins font-size-14 m-0">{{"ITEMS.PDM_REQUIRED" |
									translate}}</p>
							</div>

						</div>				
 						
 						<!-- Code -->
						<div class="col-md-12 mt-3">
							<label for="segment"
								class="font-archivo font-size-16 font-weight-medium text-secondary m-0">
								<b>{{"ITEMS.CODE_TITLE" | translate}}</b>
							</label>
							<input type="text" required formControlName="code" class="form-control h50 br-10"
								id="code" placeholder="{{'ITEMS.ENTER_CODE' | translate}}" (keyup)="validateCode()">
							
							<div *ngIf="form.controls['code'].errors?.['required'] && isSubmit"
								class="div-msg-error mt-2">
								<img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt>
								<p class="font-poppins font-size-14 m-0">{{"ITEMS.INVALID_CODE" |
									translate}}</p>
							</div>

							<div *ngIf="!validCode"
								class="div-msg-error mt-2">
								<img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt>
								<p class="font-poppins font-size-14 m-0">{{"ITEMS.INVALID_CODE" |
									translate}}</p>
							</div>
							
						</div>

						<!-- Name -->
						<div class="col-md-12 mt-3">
							<label for="segment"
								class="font-archivo font-size-16 font-weight-medium text-secondary m-0">
								<b>{{"ITEMS.NAME_TITLE" | translate}}</b>
							</label> 
							<input type="text" required formControlName="name" class="form-control h50 br-10"
								id="segment" placeholder="{{'ITEMS.ENTER_NAME' | translate}}">
							<div *ngIf="form.controls['name'].errors?.['required'] && isSubmit"
								class="div-msg-error mt-2">
								<img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt>
								<p class="font-poppins font-size-14 m-0">{{"ITEMS.NAME_REQUIRED" |
									translate}}</p>
							</div>
						</div>

						<!-- propertyList -->
						<div class="col-md-12 mt-3">
							<label for="segment"
								class="font-archivo font-size-16 font-weight-medium text-secondary propertyListTitle">
								<b>{{"ITEMS.PROPERTY_LIST_TITLE" | translate}}</b>
							</label>

							<div class="propertyList">
								<div class="properties" *ngFor="let item of propertyList; let i = index">
									<p class="property">
										{{item.property}}
										<span *ngIf="item.required" class="required">
											- {{"ITEMS.IS_REQUIRED" | translate}}
										</span>
									</p>
									<input type="text" required
										placeholder="{{'ITEMS.ENTER_PROPERTY' | translate}}" class="input-property form-control br-10 ng-pristine ng-invalid ng-touched" #inputElement (input)="onInput(inputElement.value, i)">

									<div *ngIf="item.error && isSubmit"
										class="div-msg-error mt-2">
										<img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt>
										<p class="font-poppins font-size-14 m-0">{{"ITEMS.PROPERTY_REQUIRED" |
											translate}}</p>
									</div>

								</div>
							</div>
							
						</div>

					</div>
					<div class="my-4">
						<div class="row">
							<div class="col-md-12">
								<div class="row d-flex justify-content-end">
									<div class="col-md-5">
										<button type="button" class="bg-transparent w-100 btn br-10 h50 color-pattern"
											(click)="cancel()"><strong>{{"BUTTON_TEXT.CANCEL" |
												translate}}</strong></button>
									</div>
									<div class="col-md-5">
										<button type="submit"
											class="btn bg-pattern text-light br-10 h50 w-100"><strong>{{"BUTTON_TEXT.REGISTER"
												| translate}}</strong></button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</form>
			</section>
		</div>
	</div>
</div>