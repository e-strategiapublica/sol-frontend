{"ast":null,"code":"import _asyncToGenerator from \"/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ContractStatusEnum } from \"src/enums/contract-status.enum\";\nimport { LanguageContractEnum } from \"src/enums/language-contract.enum\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/services/contract.service\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@ngx-translate/core\";\nimport * as i6 from \"@angular/common\";\nfunction DetailsContractComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 22)(2, \"div\", 23)(3, \"div\", 22)(4, \"h6\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h5\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 22)(10, \"h6\", 10);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"h5\", 11);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(6, 4, \"ADMINISTRATION_BIDDING.ASSOCIATION\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.loteList == null ? null : ctx_r0.loteList.value);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(12, 6, \"ASSOCIATION_CONTRACTS.SUPPLIER\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.loteList == null ? null : ctx_r0.loteList.value);\n  }\n}\nfunction DetailsContractComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 22)(2, \"div\", 23)(3, \"div\", 22)(4, \"h6\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h5\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 22)(10, \"h6\", 10);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"h5\", 11);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(6, 4, \"ASSOCIATION_AGREEMENTS.ASSOCIATION\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.loteList == null ? null : ctx_r1.loteList.value);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 6, \"ASSOCIATION_CONTRACTS.SUPPLIER\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.loteList == null ? null : ctx_r1.loteList.value);\n  }\n}\nexport class DetailsContractComponent {\n  constructor(toastrService, router, contractsService, route, ngxSpinnerService, translateService) {\n    this.toastrService = toastrService;\n    this.router = router;\n    this.contractsService = contractsService;\n    this.route = route;\n    this.ngxSpinnerService = ngxSpinnerService;\n    this.translateService = translateService;\n    this.loteList = {};\n  }\n  ngOnInit() {\n    this.ngxSpinnerService.show();\n    this.route.params.subscribe(params => {\n      const id = params[\"_id\"];\n      this.contractId = id;\n      this.contractsService.getContractById(id).subscribe({\n        next: data => {\n          this.loteList = data;\n          console.log(this.loteList);\n          this.ngxSpinnerService.hide();\n        },\n        error: error => {\n          console.error(error);\n        }\n      });\n    });\n  }\n  handlerStatus(status) {\n    switch (status) {\n      case ContractStatusEnum.aguardando_assinaturas:\n        return \"Aguardando assinaturas\";\n      case ContractStatusEnum.aguardando_fornecedor:\n        return \"Aguardando fornecedor\";\n      case ContractStatusEnum.assinado:\n        return \"Assinado\";\n      case ContractStatusEnum.concluido:\n        return \"Concluído\";\n      case ContractStatusEnum.executado_parcialmente:\n        return \"Executado parcialmente\";\n      case ContractStatusEnum.inexecucao_total:\n        return \"Inexecução total\";\n      default:\n        return \"-\";\n    }\n  }\n  downloadPdf() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.ngxSpinnerService.show();\n      const selectedLanguage = _this.translateService.currentLang;\n      let language = \"\";\n      switch (selectedLanguage) {\n        case \"pt\":\n          language = LanguageContractEnum.portuguese;\n          break;\n        case \"en\":\n          language = LanguageContractEnum.english;\n          break;\n        case \"es\":\n          language = LanguageContractEnum.spanish;\n          break;\n        case \"fr\":\n          language = LanguageContractEnum.french;\n          break;\n        default:\n          language = LanguageContractEnum.english;\n          break;\n      }\n      _this.contractsService.getPdf(_this.contractId, language, _this.loteList.bid_number.classification).then(data => {\n        const buffer = data;\n        const file = new Blob([buffer], {\n          type: \"application/pdf\"\n        });\n        const fileURL = URL.createObjectURL(file);\n        const link = document.createElement(\"a\");\n        link.href = fileURL;\n        const name = _this.loteList.bid_number.bid_count + \"/\" + new Date(_this.loteList.bid_number.createdAt).getFullYear();\n        link.setAttribute(\"download\", `Contract-${name}.pdf`);\n        link.style.display = \"none\"; // Oculta o link no DOM\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        _this.ngxSpinnerService.hide();\n      }).catch(error => {\n        console.error(error);\n        // Verifique se o erro contém a estrutura esperada e exibe a mensagem de erro\n        const errorMessage = error?.error?.errors?.join(', ') || 'Erro desconhecido';\n        // Exibe a mensagem de erro usando o Toastr\n        _this.toastrService.error(errorMessage, \"\", {\n          progressBar: true\n        });\n        // Oculta o spinner\n        _this.ngxSpinnerService.hide();\n      });\n    })();\n  }\n  back() {\n    this.router.navigate([\"/pages/licitacoes/contratos-licitacoes\"]);\n  }\n  getSupplierName() {\n    const lote = this.loteList;\n    // 1. Se vier pelo proposal diretamente\n    if (lote?.proposal?.supplier?.name) {\n      return lote.proposal.supplier.name;\n    }\n    // 2. Se estiver dentro de proposals do allotment com proposalWin\n    const winnerProposal = lote?.allotment?.proposals?.find(p => p.proposalWin);\n    if (winnerProposal?.supplier?.name) {\n      return winnerProposal.supplier.name;\n    }\n    // 3. Pega o nome do primeiro supplier se existir\n    if (lote?.allotment?.proposals?.length > 0) {\n      const firstSupplier = lote.allotment.proposals[0]?.supplier?.name;\n      if (firstSupplier) {\n        return firstSupplier;\n      }\n    }\n    return 'Fornecedor não informado';\n  }\n  static {\n    this.ɵfac = function DetailsContractComponent_Factory(t) {\n      return new (t || DetailsContractComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ContractsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.TranslateService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DetailsContractComponent,\n      selectors: [[\"app-details-contract\"]],\n      decls: 77,\n      vars: 48,\n      consts: [[1, \"container\", \"mb-5\"], [1, \"row\", \"mt-5\"], [1, \"col-md-12\"], [1, \"bg-secondary\"], [1, \"row\", \"mt-1\", \"mb-3\", \"arrow\"], [1, \"col-12\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-arrow-left\", \"f-size-24\", \"cursor-pointer\", 3, \"click\"], [1, \"col-md-11\", \"border\", \"mt-3\", \"br-10\", \"py-3\"], [1, \"row\", \"px-2\"], [1, \"col-md-6\", \"mt-3\"], [1, \"font-poppins\", \"f-size-14\", \"text-secondary\"], [1, \"f-size-16\"], [1, \"col-md-3\", \"mt-3\", \"text-capitalize\"], [1, \"f-size-16\", \"text-dark\"], [1, \"col-md-3\", \"mt-3\"], [1, \"col-md-3\"], [1, \"col-md-12\", \"mt-3\"], [1, \"row\", \"d-flex\", \"justify-content-between\"], [1, \"col-md-4\"], [\"class\", \"row d-flex justify-content-between\", 4, \"ngIf\"], [1, \"d-flex\", \"mt-4\"], [1, \"btn\", \"btn-primary\", \"br-10\", \"text-center\", \"font-weight-bold\", 2, \"width\", \"250px\", 3, \"click\"], [1, \"col-md-6\"], [1, \"row\"]],\n      template: function DetailsContractComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\")(4, \"strong\");\n          i0.ɵɵtext(5);\n          i0.ɵɵpipe(6, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(7, \"hr\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 4)(9, \"div\", 5)(10, \"i\", 6);\n          i0.ɵɵlistener(\"click\", function DetailsContractComponent_Template_i_click_10_listener() {\n            return ctx.back();\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\", 8)(13, \"div\", 9)(14, \"h6\", 10);\n          i0.ɵɵtext(15);\n          i0.ɵɵpipe(16, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"h5\", 11);\n          i0.ɵɵtext(18);\n          i0.ɵɵpipe(19, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"div\", 12)(21, \"h6\", 10);\n          i0.ɵɵtext(22);\n          i0.ɵɵpipe(23, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"h5\", 11);\n          i0.ɵɵtext(25);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 12)(27, \"h6\", 10);\n          i0.ɵɵtext(28);\n          i0.ɵɵpipe(29, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"h5\", 13);\n          i0.ɵɵtext(31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"div\", 9)(33, \"h6\", 10);\n          i0.ɵɵtext(34);\n          i0.ɵɵpipe(35, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"h5\", 11);\n          i0.ɵɵtext(37);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"div\", 14)(39, \"h6\", 10);\n          i0.ɵɵtext(40);\n          i0.ɵɵpipe(41, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"h5\", 11);\n          i0.ɵɵtext(43);\n          i0.ɵɵpipe(44, \"currency\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(45, \"div\", 15);\n          i0.ɵɵelementStart(46, \"div\", 16)(47, \"div\", 17)(48, \"div\", 18)(49, \"h3\")(50, \"strong\");\n          i0.ɵɵtext(51);\n          i0.ɵɵpipe(52, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(53, \"div\", 2);\n          i0.ɵɵelement(54, \"hr\", 3);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(55, \"div\", 16);\n          i0.ɵɵtemplate(56, DetailsContractComponent_div_56_Template, 15, 8, \"div\", 19);\n          i0.ɵɵelementStart(57, \"div\", 17)(58, \"div\", 2)(59, \"h6\", 10);\n          i0.ɵɵtext(60);\n          i0.ɵɵpipe(61, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(62, \"h5\", 11);\n          i0.ɵɵtext(63);\n          i0.ɵɵpipe(64, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(65, \"div\", 2)(66, \"h6\", 10);\n          i0.ɵɵtext(67);\n          i0.ɵɵpipe(68, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"h5\", 11);\n          i0.ɵɵtext(70);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(71, \"div\", 20)(72, \"button\", 21);\n          i0.ɵɵlistener(\"click\", function DetailsContractComponent_Template_button_click_72_listener() {\n            return ctx.downloadPdf();\n          });\n          i0.ɵɵtext(73);\n          i0.ɵɵpipe(74, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(75, \"div\", 16);\n          i0.ɵɵtemplate(76, DetailsContractComponent_div_76_Template, 15, 8, \"div\", 19);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 19, \"ADMINISTRATION_CONTRACTS.CONTRACT\"));\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 21, \"ADMINISTRATION_CONTRACTS.CONTRACT\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate((ctx.loteList == null ? null : ctx.loteList.contract_number) + \"/\" + i0.ɵɵpipeBind2(19, 23, ctx.loteList == null ? null : ctx.loteList.createdAt, \"yyyy\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 26, \"SIDEBAR.BIDDING\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.loteList == null ? null : ctx.loteList.bid_number == null ? null : ctx.loteList.bid_number.description);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 28, \"ASSOCIATION_CONTRACTS.STATUS\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", ctx.handlerStatus(ctx.loteList == null ? null : ctx.loteList.status), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(35, 30, \"ADMINISTRATION_BIDDING.ASSOCIATION\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate((ctx.loteList == null ? null : ctx.loteList.association_id == null ? null : ctx.loteList.association_id.name) || (ctx.loteList == null ? null : ctx.loteList.bid_number == null ? null : ctx.loteList.bid_number.association == null ? null : ctx.loteList.bid_number.association.association == null ? null : ctx.loteList.bid_number.association.association.name));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(41, 32, \"ASSOCIATION_CONTRACTS.VALUE\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(44, 34, ctx.loteList == null ? null : ctx.loteList.value, \"BRL\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(52, 37, \"ASSOCIATION_CONTRACTS.SIGNATURES\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", (ctx.loteList == null ? null : ctx.loteList.status) === \"Assinado\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(61, 39, \"ADMINISTRATION_BIDDING.ASSOCIATION\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(64, 41, ctx.loteList == null ? null : ctx.loteList.association_sign_date, \"dd/MM/yyyy\") || \"Aguardando assinatura\", \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(68, 44, \"ASSOCIATION_CONTRACTS.SUPPLIER\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.getSupplierName());\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(74, 46, \"ASSOCIATION_CONTRACTS.BUTTON_CONTRACT\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", (ctx.loteList == null ? null : ctx.loteList.status) === \"Assinado\");\n        }\n      },\n      dependencies: [i6.NgIf, i6.CurrencyPipe, i6.DatePipe, i5.TranslatePipe],\n      styles: [\".arrow[_ngcontent-%COMP%] {\\n  display: contents;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldGFpbHMtY29udHJhY3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxpQkFBQTtBQUNEIiwiZmlsZSI6ImRldGFpbHMtY29udHJhY3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXJyb3d7XG5cdGRpc3BsYXk6IGNvbnRlbnRzO1x0XG59XG4iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvamVjdC9hZG1pbmlzdHJhdGlvbi1saWNpdGFjb2VzL2FkbWluaXN0cmF0aW9uLWNvbnRyYWN0cy1saWNpdGFjYW8vZGV0YWlscy1jb250cmFjdC9kZXRhaWxzLWNvbnRyYWN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsaUJBQUE7QUFDRDtBQUNBLG9VQUFvVSIsInNvdXJjZXNDb250ZW50IjpbIi5hcnJvd3tcblx0ZGlzcGxheTogY29udGVudHM7XHRcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["ContractStatusEnum","LanguageContractEnum","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵtextInterpolate","ctx_r0","loteList","value","ctx_r1","DetailsContractComponent","constructor","toastrService","router","contractsService","route","ngxSpinnerService","translateService","ngOnInit","show","params","subscribe","id","contractId","getContractById","next","data","console","log","hide","error","handlerStatus","status","aguardando_assinaturas","aguardando_fornecedor","assinado","concluido","executado_parcialmente","inexecucao_total","downloadPdf","_this","_asyncToGenerator","selectedLanguage","currentLang","language","portuguese","english","spanish","french","getPdf","bid_number","classification","then","buffer","file","Blob","type","fileURL","URL","createObjectURL","link","document","createElement","href","name","bid_count","Date","createdAt","getFullYear","setAttribute","style","display","body","appendChild","click","removeChild","catch","errorMessage","errors","join","progressBar","back","navigate","getSupplierName","lote","proposal","supplier","winnerProposal","allotment","proposals","find","p","proposalWin","length","firstSupplier","ɵɵdirectiveInject","i1","ToastrService","i2","Router","i3","ContractsService","ActivatedRoute","i4","NgxSpinnerService","i5","TranslateService","selectors","decls","vars","consts","template","DetailsContractComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","DetailsContractComponent_Template_i_click_10_listener","ɵɵtemplate","DetailsContractComponent_div_56_Template","DetailsContractComponent_Template_button_click_72_listener","DetailsContractComponent_div_76_Template","contract_number","ɵɵpipeBind2","description","association_id","association","ɵɵproperty","association_sign_date"],"ignoreList":[],"sourceRoot":"","sources":["/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/src/app/project/administration-licitacoes/administration-contracts-licitacao/details-contract/details-contract.component.ts","/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/src/app/project/administration-licitacoes/administration-contracts-licitacao/details-contract/details-contract.component.html"],"sourcesContent":["import { Component } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { ContractStatusEnum } from \"src/enums/contract-status.enum\";\nimport { ContractsService } from \"src/services/contract.service\";\nimport html2canvas from \"html2canvas\";\nimport { jsPDF } from \"jspdf\";\nimport { LanguageContractEnum } from \"src/enums/language-contract.enum\";\nimport { TranslateService } from \"@ngx-translate/core\";\n\n@Component({\n  selector: \"app-details-contract\",\n  templateUrl: \"./details-contract.component.html\",\n  styleUrls: [\"./details-contract.component.scss\"],\n})\nexport class DetailsContractComponent {\n  loteList: any = {};\n\n  contractId: string;\n  \n\n  constructor(\n    private toastrService: ToastrService,\n    private router: Router,\n    private contractsService: ContractsService,\n    private route: ActivatedRoute,\n    private ngxSpinnerService: NgxSpinnerService,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.ngxSpinnerService.show();\n    this.route.params.subscribe(params => {\n      const id = params[\"_id\"];\n      this.contractId = id;\n      this.contractsService.getContractById(id).subscribe({\n        next: data => {\n          this.loteList = data;\n          console.log(this.loteList)\n          this.ngxSpinnerService.hide();\n        },\n        error: error => {\n          console.error(error);\n        },\n      });\n    });\n  }\n\n  handlerStatus(status: string) {\n    switch (status) {\n      case ContractStatusEnum.aguardando_assinaturas:\n        return \"Aguardando assinaturas\";\n      case ContractStatusEnum.aguardando_fornecedor:\n        return \"Aguardando fornecedor\";\n      case ContractStatusEnum.assinado:\n        return \"Assinado\";\n      case ContractStatusEnum.concluido:\n        return \"Concluído\";\n      case ContractStatusEnum.executado_parcialmente:\n        return \"Executado parcialmente\";\n      case ContractStatusEnum.inexecucao_total:\n        return \"Inexecução total\";\n      default:\n        return \"-\";\n    }\n  }\n\n  async downloadPdf() {\n    this.ngxSpinnerService.show();\n    const selectedLanguage = this.translateService.currentLang;\n    let language = \"\";\n    switch (selectedLanguage) {\n      case \"pt\":\n        language = LanguageContractEnum.portuguese;\n        break;\n      case \"en\":\n        language = LanguageContractEnum.english;\n        break;\n      case \"es\":\n        language = LanguageContractEnum.spanish;\n        break;\n      case \"fr\":\n        language = LanguageContractEnum.french;\n        break;\n      default:\n        language = LanguageContractEnum.english;\n        break;\n    }\n\n    this.contractsService\n      .getPdf(this.contractId, language, this.loteList.bid_number.classification)\n      .then(data => {\n        const buffer = data;\n        const file = new Blob([buffer], {\n          type: \"application/pdf\",\n        });\n        const fileURL = URL.createObjectURL(file);\n        const link = document.createElement(\"a\");\n        link.href = fileURL;\n        const name =\n          this.loteList.bid_number.bid_count + \"/\" + new Date(this.loteList.bid_number.createdAt).getFullYear();\n        link.setAttribute(\"download\", `Contract-${name}.pdf`);\n        link.style.display = \"none\"; // Oculta o link no DOM\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        this.ngxSpinnerService.hide();\n      })\n      .catch(error => {\n        console.error(error);\n        \n        // Verifique se o erro contém a estrutura esperada e exibe a mensagem de erro\n        const errorMessage = error?.error?.errors?.join(', ') || 'Erro desconhecido';\n      \n        // Exibe a mensagem de erro usando o Toastr\n        this.toastrService.error(errorMessage, \"\", { progressBar: true });\n        \n        // Oculta o spinner\n        this.ngxSpinnerService.hide();\n      });\n      \n  }\n\n  back(){          \n    this.router.navigate([\"/pages/licitacoes/contratos-licitacoes\"]);\n  }\n\n\n  getSupplierName(): string {\n    const lote = this.loteList;\n  \n    // 1. Se vier pelo proposal diretamente\n    if (lote?.proposal?.supplier?.name) {\n      return lote.proposal.supplier.name;\n    }\n  \n    // 2. Se estiver dentro de proposals do allotment com proposalWin\n    const winnerProposal = lote?.allotment?.proposals?.find((p: any) => p.proposalWin);\n    if (winnerProposal?.supplier?.name) {\n      return winnerProposal.supplier.name;\n    }\n  \n    // 3. Pega o nome do primeiro supplier se existir\n    if (lote?.allotment?.proposals?.length > 0) {\n      const firstSupplier = lote.allotment.proposals[0]?.supplier?.name;\n      if (firstSupplier) {\n        return firstSupplier;\n      }\n    }\n  \n    return 'Fornecedor não informado';\n  }\n  \n\n}\n","<div class=\"container mb-5\">\n  <div class=\"row mt-5\">\n    <div class=\"col-md-12\">\n      <h2><strong>{{'ADMINISTRATION_CONTRACTS.CONTRACT' | translate}}</strong></h2>\n      <hr class=\"bg-secondary\">\n    </div>\n\n    <div class=\"row mt-1 mb-3 arrow\">\n       <div class=\"col-12\">\n           <i class=\"fa fa-arrow-left f-size-24 cursor-pointer\" (click)=\"back()\" aria-hidden=\"true\"></i>\n       </div>\n    </div>\n\n    <div class=\"col-md-11 border mt-3 br-10 py-3 \">\n      <div class=\"row px-2\">\n        <div class=\"col-md-6 mt-3 \">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ADMINISTRATION_CONTRACTS.CONTRACT' | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList?.contract_number+'/'+(loteList?.createdAt | date:'yyyy')}}</h5>\n        </div>\n        <div class=\"col-md-3 mt-3 text-capitalize\">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{'SIDEBAR.BIDDING' | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList?.bid_number?.description}}</h5>\n        </div>\n        <div class=\"col-md-3 mt-3 text-capitalize\">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ASSOCIATION_CONTRACTS.STATUS' | translate}}</h6>\n          <h5 class=\"f-size-16 text-dark\"> {{handlerStatus(loteList?.status)}}</h5>\n        </div>\n        <div class=\"col-md-6 mt-3 \">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ADMINISTRATION_BIDDING.ASSOCIATION' | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList?.association_id?.name || loteList?.bid_number?.association?.association?.name}}</h5>\n        </div>\n        <div class=\"col-md-3 mt-3 \">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ASSOCIATION_CONTRACTS.VALUE' | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList?.value | currency: 'BRL'}}</h5>\n        </div>\n        <div class=\"col-md-3\"></div>\n        <div class=\"col-md-12 mt-3\">\n          <div class=\"row d-flex justify-content-between\">\n            <div class=\"col-md-4\">\n              <h3><strong>{{'ASSOCIATION_CONTRACTS.SIGNATURES' | translate}}</strong></h3>\n            </div>\n            <div class=\"col-md-12\">\n              <hr class=\"bg-secondary\">\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-12 mt-3\">\n          <div *ngIf=\"loteList?.status === 'Assinado'\" class=\"row d-flex justify-content-between\">\n            <div class=\"col-md-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ADMINISTRATION_BIDDING.ASSOCIATION' | translate}}\n                  </h6>\n                  <h5 class=\"f-size-16\">{{loteList?.value}}</h5>\n                </div>\n                <div class=\"col-md-6\">\n                  <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ASSOCIATION_CONTRACTS.SUPPLIER' | translate}}\n                  </h6>\n                  <h5 class=\"f-size-16\">{{loteList?.value}}</h5>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row d-flex justify-content-between\">\n            <div class=\"col-md-12\">\n              <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ADMINISTRATION_BIDDING.ASSOCIATION' | translate}}\n              </h6>\n              <h5 class=\"f-size-16\">{{(loteList?.association_sign_date | date:'dd/MM/yyyy')|| 'Aguardando assinatura'}}\n              </h5>\n            </div>\n            <div class=\"col-md-12\">\n              <h6 class=\"font-poppins f-size-14 text-secondary\">{{'ASSOCIATION_CONTRACTS.SUPPLIER' | translate}}</h6>\n              <h5 class=\"f-size-16\">{{ getSupplierName() }}</h5>\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"d-flex mt-4\">\n        <button class=\"btn btn-primary  br-10 text-center font-weight-bold\" (click)=\"downloadPdf()\" style=\"width: 250px;\">{{\"ASSOCIATION_CONTRACTS.BUTTON_CONTRACT\" | translate}}</button>\n      </div>\n    </div>\n    <div class=\"col-md-12 mt-3\">\n      <div *ngIf=\"loteList?.status === 'Assinado'\" class=\"row d-flex justify-content-between\">\n        <div class=\"col-md-6\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"ASSOCIATION_AGREEMENTS.ASSOCIATION\" | translate}}\n              </h6>\n              <h5 class=\"f-size-16\">{{loteList?.value}}</h5>\n            </div>\n            <div class=\"col-md-6\">\n              <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"ASSOCIATION_CONTRACTS.SUPPLIER\" | translate}}</h6>\n              <h5 class=\"f-size-16\">{{loteList?.value}}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}