{"ast":null,"code":"import _asyncToGenerator from \"/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ContractStatusEnum } from \"src/enums/contract-status.enum\";\nimport { LanguageContractEnum } from \"src/enums/language-contract.enum\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/datamock.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ngx-translate/core\";\nimport * as i5 from \"src/services/contract.service\";\nimport * as i6 from \"ngx-spinner\";\nimport * as i7 from \"@angular/common\";\nfunction FornecedorContratoSupplierComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 20)(2, \"div\", 21)(3, \"div\", 20)(4, \"h6\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h5\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 20)(10, \"h6\", 7);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"h5\", 8);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 15)(16, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function FornecedorContratoSupplierComponent_div_58_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openModal(\"edital\"));\n    });\n    i0.ɵɵelementStart(17, \"strong\");\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"translate\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 5, \"ADMINISTRATION_BIDDING.ASSOCIATION\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.loteList.value);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 7, \"SIDEBAR.SUPPLIER\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.loteList.value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(19, 9, \"SUPPLIER_BIDDING.ORIGINAL_CONTRACT\"));\n  }\n}\nfunction FornecedorContratoSupplierComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 21)(2, \"div\", 12)(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function FornecedorContratoSupplierComponent_div_76_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.accept());\n    });\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 12)(8, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function FornecedorContratoSupplierComponent_div_76_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openModal(\"recusar\"));\n    });\n    i0.ɵɵelementStart(9, \"strong\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"translate\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 2, \"SUPPLIER_BIDDING.ACCEPT\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 4, \"SUPPLIER_BIDDING.REFUSE\"));\n  }\n}\nexport class FornecedorContratoSupplierComponent {\n  constructor(datamock, toastrService, router, translate, contractsService, route, ngxSpinnerService) {\n    this.datamock = datamock;\n    this.toastrService = toastrService;\n    this.router = router;\n    this.translate = translate;\n    this.contractsService = contractsService;\n    this.route = route;\n    this.ngxSpinnerService = ngxSpinnerService;\n    this.oneStep = null;\n    this.loteList = {\n      deleted: null,\n      _id: null,\n      contract_number: null,\n      bid_number: null,\n      supplier_id: null,\n      value: null,\n      status: null,\n      createdAt: null,\n      updatedAt: null,\n      __v: 0\n    };\n  }\n  ngOnInit() {\n    this.storedLanguage = localStorage.getItem(\"selectedLanguage\");\n    this.ngxSpinnerService.show();\n    let user = localStorage.getItem('user');\n    user = JSON.parse(user);\n    this.user = user;\n    this.route.params.subscribe(params => {\n      this.id = params[\"_id\"];\n      this.contractsService.getContractById(this.id).subscribe({\n        next: data => {\n          this.loteList = data;\n          this.ngxSpinnerService.hide();\n        },\n        error: error => {\n          console.error(error);\n        }\n      });\n    });\n  }\n  openModal(command) {\n    if (command === \"aceitar\") this.toastrService.success(\"Aceito com sucesso!\", \"\", {\n      progressBar: true\n    });\n    if (command === \"recusar\") this.toastrService.error(\"Recusado com sucesso!\", \"\", {\n      progressBar: true\n    });\n    if (command === \"edital\") this.toastrService.success(\"Baixado com sucesso!\", \"\", {\n      progressBar: true\n    });\n    if (command === \"proposal\") this.router.navigate([\"/fornecedor/licitacoes/detalhes-licitacoes/\" + this.loteList.bid_number._id]);\n  }\n  accept() {\n    this.acceptSupplier();\n  }\n  acceptSupplier() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.request1 = {\n        status: \"concluido\",\n        association_id: _this.user.id\n      };\n      _this.contractsService.singSupplier(_this.id, _this.request1).subscribe({\n        next: function () {\n          var _ref = _asyncToGenerator(function* (success) {\n            _this.toastrService.success(_this.translate.instant(\"TOASTRS.ACCEPT_SUCCESS\"), \"\", {\n              progressBar: true\n            });\n            _this.loteList.supplier_accept = \"true\";\n            _this.ngOnInit();\n          });\n          return function next(_x) {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        error: function () {\n          var _ref2 = _asyncToGenerator(function* (_error) {\n            _this.toastrService.error(_this.translate.instant(\"TOASTRS.ACCEPT_ERROR\"), \"\", {\n              progressBar: true\n            });\n          });\n          return function error(_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }()\n      });\n    })();\n  }\n  acceptVisit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.request = {\n        status: \"concluido\"\n      };\n      _this2.contractsService.updateStatus(_this2.id, _this2.request).subscribe({\n        next: function () {\n          var _ref3 = _asyncToGenerator(function* (success) {\n            _this2.toastrService.success(_this2.translate.instant(\"TOASTRS.ACCEPT_SUCCESS\"), \"\", {\n              progressBar: true\n            });\n          });\n          return function next(_x3) {\n            return _ref3.apply(this, arguments);\n          };\n        }(),\n        error: function () {\n          var _ref4 = _asyncToGenerator(function* (_error2) {\n            _this2.toastrService.success(_this2.translate.instant(\"TOASTRS.ACCEPT_ERROR\"), \"\", {\n              progressBar: true\n            });\n          });\n          return function error(_x4) {\n            return _ref4.apply(this, arguments);\n          };\n        }()\n      });\n    })();\n  }\n  handlerStatus(status) {\n    switch (status) {\n      case ContractStatusEnum.aguardando_assinaturas:\n        return \"Aguardando assinaturas\";\n      case ContractStatusEnum.aguardando_fornecedor:\n        return \"Aguardando fornecedor\";\n      case ContractStatusEnum.assinado:\n        return \"Assinado\";\n      case ContractStatusEnum.concluido:\n        return \"Concluído\";\n      case ContractStatusEnum.executado_parcialmente:\n        return \"Executado parcialmente\";\n      case ContractStatusEnum.inexecucao_total:\n        return \"Inexecução total\";\n      default:\n        return \"-\";\n    }\n  }\n  downloadPdf() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.ngxSpinnerService.show();\n      const selectedLanguage = _this3.translate.currentLang;\n      let language;\n      switch (selectedLanguage) {\n        case \"pt\":\n          language = LanguageContractEnum.portuguese;\n          break;\n        case \"en\":\n          language = LanguageContractEnum.english;\n          break;\n        case \"es\":\n          language = LanguageContractEnum.spanish;\n          break;\n        case \"fr\":\n          language = LanguageContractEnum.french;\n          break;\n        default:\n          language = LanguageContractEnum.english;\n          break;\n      }\n      _this3.contractsService.getPdf(_this3.id.toString(), language, _this3.loteList.bid_number.classification).then(data => {\n        const buffer = data;\n        const file = new Blob([buffer], {\n          type: \"application/pdf\"\n        });\n        const fileURL = URL.createObjectURL(file);\n        const link = document.createElement(\"a\");\n        link.href = fileURL;\n        const name = _this3.loteList.bid_number.bid_count + \"/\" + new Date(_this3.loteList.bid_number.createdAt).getFullYear();\n        link.setAttribute(\"download\", `Contract-${name}.pdf`);\n        link.style.display = \"none\"; // Oculta o link no DOM\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        _this3.ngxSpinnerService.hide();\n      }).catch(error => {\n        let errorMessage = \"Erro ao tentar efetuar o Download\";\n        switch (_this3.storedLanguage) {\n          case \"pt\":\n            errorMessage = \"Erro ao tentar efetuar o Download\";\n            break;\n          case \"en\":\n            errorMessage = \"Error while trying to download\";\n            break;\n          case \"fr\":\n            errorMessage = \"Erreur lors de la tentative de téléchargement\";\n            break;\n          case \"es\":\n            errorMessage = \"Error al intentar descargar\";\n            break;\n        }\n        _this3.toastrService.error(errorMessage, \"\", {\n          progressBar: true\n        });\n        _this3.ngxSpinnerService.hide();\n      });\n    })();\n  }\n  static {\n    this.ɵfac = function FornecedorContratoSupplierComponent_Factory(t) {\n      return new (t || FornecedorContratoSupplierComponent)(i0.ɵɵdirectiveInject(i1.DatamockService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.TranslateService), i0.ɵɵdirectiveInject(i5.ContractsService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i6.NgxSpinnerService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: FornecedorContratoSupplierComponent,\n      selectors: [[\"app-fornecedor-contrato-supplier\"]],\n      decls: 81,\n      vars: 58,\n      consts: [[1, \"container-fluid\", \"mb-5\"], [1, \"row\", \"mt-5\"], [1, \"col-md-12\"], [1, \"bg-secondary\"], [1, \"col-md-11\", \"border\", \"mt-3\", \"br-10\", \"py-3\"], [1, \"row\", \"px-2\"], [1, \"col-md-6\", \"mt-3\"], [1, \"font-poppins\", \"f-size-14\", \"text-secondary\"], [1, \"f-size-16\"], [1, \"col-md-3\", \"mt-3\", \"text-capitalize\"], [1, \"f-size-16\", \"text-dark\"], [1, \"col-md-3\", \"mt-3\"], [1, \"col-md-3\"], [1, \"col-md-12\", \"mt-3\"], [1, \"row\", \"d-flex\", \"justify-content-between\"], [1, \"col-md-4\"], [\"type\", \"button\", 1, \"btn\", \"h50\", \"w-100\", \"btn-primary\", \"br-10\", 3, \"click\"], [\"class\", \"row d-flex justify-content-between\", 4, \"ngIf\"], [\"class\", \"col-md-12 mt-3\", 4, \"ngIf\"], [1, \"col-md-4\", \"mt-2\"], [1, \"col-md-6\"], [1, \"row\"], [\"type\", \"button\", 1, \"btn\", \"h50\", \"w-100\", \"w3-white\", \"text-dark\", \"border\", \"br-10\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"h50\", \"w-100\", \"btn-success\", \"br-10\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"h50\", \"w-100\", \"btn-danger\", \"br-10\", 3, \"click\"]],\n      template: function FornecedorContratoSupplierComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\")(4, \"strong\");\n          i0.ɵɵtext(5);\n          i0.ɵɵpipe(6, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(7, \"hr\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 4)(9, \"div\", 5)(10, \"div\", 6)(11, \"h6\", 7);\n          i0.ɵɵtext(12);\n          i0.ɵɵpipe(13, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"h5\", 8);\n          i0.ɵɵtext(15);\n          i0.ɵɵpipe(16, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 9)(18, \"h6\", 7);\n          i0.ɵɵtext(19);\n          i0.ɵɵpipe(20, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"h5\", 8);\n          i0.ɵɵtext(22);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(23, \"div\", 9)(24, \"h6\", 7);\n          i0.ɵɵtext(25);\n          i0.ɵɵpipe(26, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"h5\", 10);\n          i0.ɵɵtext(28);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(29, \"div\", 6)(30, \"h6\", 7);\n          i0.ɵɵtext(31);\n          i0.ɵɵpipe(32, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"h5\", 8);\n          i0.ɵɵtext(34);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"div\", 11)(36, \"h6\", 7);\n          i0.ɵɵtext(37);\n          i0.ɵɵpipe(38, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"h5\", 8);\n          i0.ɵɵtext(40);\n          i0.ɵɵpipe(41, \"currency\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(42, \"div\", 12);\n          i0.ɵɵelementStart(43, \"div\", 13)(44, \"div\", 14)(45, \"div\", 15)(46, \"h3\")(47, \"strong\");\n          i0.ɵɵtext(48);\n          i0.ɵɵpipe(49, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(50, \"div\", 12)(51, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function FornecedorContratoSupplierComponent_Template_button_click_51_listener() {\n            return ctx.openModal(\"proposal\");\n          });\n          i0.ɵɵelementStart(52, \"strong\");\n          i0.ɵɵtext(53);\n          i0.ɵɵpipe(54, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(55, \"div\", 2);\n          i0.ɵɵelement(56, \"hr\", 3);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(57, \"div\", 13);\n          i0.ɵɵtemplate(58, FornecedorContratoSupplierComponent_div_58_Template, 20, 11, \"div\", 17);\n          i0.ɵɵelementStart(59, \"div\", 14)(60, \"div\", 2)(61, \"h6\", 7);\n          i0.ɵɵtext(62);\n          i0.ɵɵpipe(63, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(64, \"h5\", 8);\n          i0.ɵɵtext(65);\n          i0.ɵɵpipe(66, \"translate\");\n          i0.ɵɵpipe(67, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(68, \"div\", 2)(69, \"h6\", 7);\n          i0.ɵɵtext(70);\n          i0.ɵɵpipe(71, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(72, \"h5\", 8);\n          i0.ɵɵtext(73);\n          i0.ɵɵpipe(74, \"translate\");\n          i0.ɵɵpipe(75, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(76, FornecedorContratoSupplierComponent_div_76_Template, 12, 6, \"div\", 18);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(77, \"div\", 19)(78, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function FornecedorContratoSupplierComponent_Template_button_click_78_listener() {\n            return ctx.downloadPdf();\n          });\n          i0.ɵɵtext(79);\n          i0.ɵɵpipe(80, \"translate\");\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 20, \"SIDEBAR.CONTRACTS\"));\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 22, \"SIDEBAR.CONTRACTS\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.loteList.contract_number + \"/\" + i0.ɵɵpipeBind2(16, 24, ctx.loteList.createdAt, \"yyyy\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 27, \"SIDEBAR.BIDDING\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.loteList.bid_number == null ? null : ctx.loteList.bid_number.description);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(26, 29, \"ASSOCIATION_CONTRACTS.STATUS\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", ctx.handlerStatus(ctx.loteList.status), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(32, 31, \"ADMINISTRATION_BIDDING.ASSOCIATION\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate((ctx.loteList == null ? null : ctx.loteList.association_id == null ? null : ctx.loteList.association_id.name) || (ctx.loteList == null ? null : ctx.loteList.bid_number == null ? null : ctx.loteList.bid_number.association == null ? null : ctx.loteList.bid_number.association.name));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(38, 33, \"ASSOCIATION_CONTRACTS.VALUE\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(41, 35, ctx.loteList.value, \"BRL\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(49, 38, \"ASSOCIATION_CONTRACTS.SIGNATURES\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(54, 40, \"SUPPLIER_BIDDING.CONTRACT_PROPOSAL\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.loteList.status === \"Assinado\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(63, 42, \"ADMINISTRATION_BIDDING.ASSOCIATION\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(66, 44, i0.ɵɵpipeBind2(67, 46, ctx.loteList == null ? null : ctx.loteList.association_sign_date, \"dd/MM/yyyy\") || \"ASSOCIATION_CONTRACTS.AWAITING_SIGNATURES\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(71, 49, \"SIDEBAR.SUPPLIER\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(74, 51, i0.ɵɵpipeBind2(75, 53, ctx.loteList == null ? null : ctx.loteList.supplier_sign_date, \"dd/MM/yyyy\") || \"ASSOCIATION_CONTRACTS.AWAITING_SIGNATURES\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !(ctx.loteList == null ? null : ctx.loteList.supplier_sign_date));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(80, 56, \"SIDEBAR.CONTRACTS\"), \" \");\n        }\n      },\n      dependencies: [i7.NgIf, i7.CurrencyPipe, i7.DatePipe, i4.TranslatePipe],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3JuZWNlZG9yLWNvbnRyYXRvLXN1cHBsaWVyLmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvamVjdC9mb3JuZWNlZG9yLWNvbnRyYXRvL2Zvcm5lY2Vkb3ItY29udHJhdG8tc3VwcGxpZXIvZm9ybmVjZWRvci1jb250cmF0by1zdXBwbGllci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ01BQWdNIiwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["ContractStatusEnum","LanguageContractEnum","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FornecedorContratoSupplierComponent_div_58_Template_button_click_16_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","openModal","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","ctx_r0","loteList","value","FornecedorContratoSupplierComponent_div_76_Template_button_click_3_listener","_r5","ctx_r4","accept","FornecedorContratoSupplierComponent_div_76_Template_button_click_8_listener","ctx_r6","FornecedorContratoSupplierComponent","constructor","datamock","toastrService","router","translate","contractsService","route","ngxSpinnerService","oneStep","deleted","_id","contract_number","bid_number","supplier_id","status","createdAt","updatedAt","__v","ngOnInit","storedLanguage","localStorage","getItem","show","user","JSON","parse","params","subscribe","id","getContractById","next","data","hide","error","console","command","success","progressBar","navigate","acceptSupplier","_this","_asyncToGenerator","request1","association_id","singSupplier","_ref","instant","supplier_accept","_x","apply","arguments","_ref2","_x2","acceptVisit","_this2","request","updateStatus","_ref3","_x3","_ref4","_x4","handlerStatus","aguardando_assinaturas","aguardando_fornecedor","assinado","concluido","executado_parcialmente","inexecucao_total","downloadPdf","_this3","selectedLanguage","currentLang","language","portuguese","english","spanish","french","getPdf","toString","classification","then","buffer","file","Blob","type","fileURL","URL","createObjectURL","link","document","createElement","href","name","bid_count","Date","getFullYear","setAttribute","style","display","body","appendChild","click","removeChild","catch","errorMessage","ɵɵdirectiveInject","i1","DatamockService","i2","ToastrService","i3","Router","i4","TranslateService","i5","ContractsService","ActivatedRoute","i6","NgxSpinnerService","selectors","decls","vars","consts","template","FornecedorContratoSupplierComponent_Template","rf","ctx","ɵɵelement","FornecedorContratoSupplierComponent_Template_button_click_51_listener","ɵɵtemplate","FornecedorContratoSupplierComponent_div_58_Template","FornecedorContratoSupplierComponent_div_76_Template","FornecedorContratoSupplierComponent_Template_button_click_78_listener","ɵɵpipeBind2","description","ɵɵtextInterpolate1","association","ɵɵproperty","association_sign_date","supplier_sign_date"],"ignoreList":[],"sourceRoot":"","sources":["/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/src/app/project/fornecedor-contrato/fornecedor-contrato-supplier/fornecedor-contrato-supplier.component.ts","/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/src/app/project/fornecedor-contrato/fornecedor-contrato-supplier/fornecedor-contrato-supplier.component.html"],"sourcesContent":["import { Component } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { DatamockService } from \"src/services/datamock.service\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { ContractsService } from \"src/services/contract.service\";\n\nimport { acceptSupplierDto } from \"src/dtos/contratos/acceptSupplier\";\nimport { singAssociationDto } from \"src/dtos/contratos/sing-association\";\nimport { ContractStatusEnum } from \"src/enums/contract-status.enum\";\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { LanguageContractEnum } from \"src/enums/language-contract.enum\";\n\n@Component({\n  selector: \"app-fornecedor-contrato-supplier\",\n  templateUrl: \"./fornecedor-contrato-supplier.component.html\",\n  styleUrls: [\"./fornecedor-contrato-supplier.component.scss\"],\n})\nexport class FornecedorContratoSupplierComponent {\n  oneStep: number | null = null;\n  request: acceptSupplierDto;\n  request1: singAssociationDto;\n  association: singAssociationDto;\n  user:any\n  fornecedorId: any;\n  id: string;\n  loteList: any = {\n    deleted: null,\n    _id: null,\n    contract_number: null,\n    bid_number: null,\n    supplier_id: null,\n    value: null,\n    status: null,\n    createdAt: null,\n    updatedAt: null,\n    __v: 0,\n  };\n  storedLanguage: string | null;\n\n  constructor(\n    public datamock: DatamockService,\n    private toastrService: ToastrService,\n    private router: Router,\n    private translate: TranslateService,\n    private contractsService: ContractsService,\n    private route: ActivatedRoute,\n    private ngxSpinnerService: NgxSpinnerService\n  ) {}\n  ngOnInit(): void {\n    this.storedLanguage = localStorage.getItem(\"selectedLanguage\");\n    this.ngxSpinnerService.show();\n    let user: any = localStorage.getItem('user');\n    user = JSON.parse(user);\n    this.user = user;\n    this.route.params.subscribe(params => {\n      this.id = params[\"_id\"];\n      this.contractsService.getContractById(this.id).subscribe({\n        next: data => {\n          this.loteList = data;\n          this.ngxSpinnerService.hide();\n        },\n        error: error => {\n          console.error(error);\n        },\n      });\n    });\n  }\n\n  openModal(command: string) {\n    if (command === \"aceitar\") this.toastrService.success(\"Aceito com sucesso!\", \"\", { progressBar: true });\n    if (command === \"recusar\") this.toastrService.error(\"Recusado com sucesso!\", \"\", { progressBar: true });\n    if (command === \"edital\") this.toastrService.success(\"Baixado com sucesso!\", \"\", { progressBar: true });\n\n    if (command === \"proposal\")\n      this.router.navigate([\"/fornecedor/licitacoes/detalhes-licitacoes/\" + this.loteList.bid_number._id]);\n  }\n\n  accept() {\n    this.acceptSupplier();\n  }\n\n  async acceptSupplier() {\n    this.request1 = {\n      status: \"concluido\",\n      association_id: this.user.id,\n    };\n    this.contractsService.singSupplier(this.id, this.request1).subscribe({\n      next: async success => {\n        this.toastrService.success(this.translate.instant(\"TOASTRS.ACCEPT_SUCCESS\"), \"\", { progressBar: true });\n        this.loteList.supplier_accept = \"true\";\n        this.ngOnInit();\n      },\n      error: async error => {\n        this.toastrService.error(this.translate.instant(\"TOASTRS.ACCEPT_ERROR\"), \"\", { progressBar: true });\n      },\n    });\n  }\n\n  async acceptVisit() {\n    this.request = {\n      status: \"concluido\",\n    };\n    this.contractsService.updateStatus(this.id, this.request).subscribe({\n      next: async success => {\n        this.toastrService.success(this.translate.instant(\"TOASTRS.ACCEPT_SUCCESS\"), \"\", { progressBar: true });\n      },\n      error: async error => {\n        this.toastrService.success(this.translate.instant(\"TOASTRS.ACCEPT_ERROR\"), \"\", { progressBar: true });\n      },\n    });\n  }\n\n  handlerStatus(status: string) {\n    switch (status) {\n      case ContractStatusEnum.aguardando_assinaturas:\n        return \"Aguardando assinaturas\";\n      case ContractStatusEnum.aguardando_fornecedor:\n        return \"Aguardando fornecedor\";\n      case ContractStatusEnum.assinado:\n        return \"Assinado\";\n      case ContractStatusEnum.concluido:\n        return \"Concluído\";\n      case ContractStatusEnum.executado_parcialmente:\n        return \"Executado parcialmente\";\n      case ContractStatusEnum.inexecucao_total:\n        return \"Inexecução total\";\n      default:\n        return \"-\";\n    }\n  }\n\n  async downloadPdf() {\n    this.ngxSpinnerService.show();\n    const selectedLanguage = this.translate.currentLang;\n    let language;\n    switch (selectedLanguage) {\n      case \"pt\":\n        language = LanguageContractEnum.portuguese;\n        break;\n      case \"en\":\n        language = LanguageContractEnum.english;\n        break;\n      case \"es\":\n        language = LanguageContractEnum.spanish;\n        break;\n      case \"fr\":\n        language = LanguageContractEnum.french;\n        break;\n      default:\n        language = LanguageContractEnum.english;\n        break;\n    }\n\n    this.contractsService\n      .getPdf(this.id.toString(), language, this.loteList.bid_number.classification)\n      .then(data => {\n        const buffer = data;\n        const file = new Blob([buffer], {\n          type: \"application/pdf\",\n        });\n        const fileURL = URL.createObjectURL(file);\n        const link = document.createElement(\"a\");\n        link.href = fileURL;\n        const name =\n          this.loteList.bid_number.bid_count + \"/\" + new Date(this.loteList.bid_number.createdAt).getFullYear();\n        link.setAttribute(\"download\", `Contract-${name}.pdf`);\n        link.style.display = \"none\"; // Oculta o link no DOM\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        this.ngxSpinnerService.hide();\n      })\n      .catch(error => {\n        let errorMessage = \"Erro ao tentar efetuar o Download\";\n\n        switch (this.storedLanguage) {\n          case \"pt\":\n            errorMessage = \"Erro ao tentar efetuar o Download\";\n            break;\n          case \"en\":\n            errorMessage = \"Error while trying to download\";\n            break;\n          case \"fr\":\n            errorMessage = \"Erreur lors de la tentative de téléchargement\";\n            break;\n          case \"es\":\n            errorMessage = \"Error al intentar descargar\";\n            break;\n        }\n\n        this.toastrService.error(errorMessage, \"\", { progressBar: true });\n        this.ngxSpinnerService.hide();\n      });\n  }\n}\n","<div class=\"container-fluid mb-5\">\n  <div class=\"row mt-5\">\n    <div class=\"col-md-12\">\n      <h2><strong>{{\"SIDEBAR.CONTRACTS\" | translate}}</strong></h2>\n      <hr class=\"bg-secondary\">\n    </div>\n\n    <div class=\"col-md-11 border mt-3 br-10 py-3 \">\n      <div class=\"row px-2\">\n        <div class=\"col-md-6 mt-3\">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"SIDEBAR.CONTRACTS\" | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList.contract_number+'/'+(loteList.createdAt | date:'yyyy')}}</h5>\n        </div>\n        <div class=\"col-md-3 mt-3 text-capitalize\">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"SIDEBAR.BIDDING\" | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList.bid_number?.description}}</h5>\n        </div>\n        <div class=\"col-md-3 mt-3 text-capitalize\">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"ASSOCIATION_CONTRACTS.STATUS\" | translate}}</h6>\n          <h5 class=\"f-size-16 text-dark\"> {{handlerStatus(loteList.status)}}</h5>\n        </div>\n        <div class=\"col-md-6 mt-3\">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"ADMINISTRATION_BIDDING.ASSOCIATION\" | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList?.association_id?.name || loteList?.bid_number?.association?.name}}</h5>\n        </div>\n        <div class=\"col-md-3 mt-3\">\n          <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"ASSOCIATION_CONTRACTS.VALUE\" | translate}}</h6>\n          <h5 class=\"f-size-16\">{{loteList.value | currency: 'BRL'}}</h5>\n        </div>\n        <div class=\"col-md-3\"></div>\n        <div class=\"col-md-12 mt-3\">\n          <div class=\"row d-flex justify-content-between\">\n            <div class=\"col-md-4\">\n              <h3><strong>{{\"ASSOCIATION_CONTRACTS.SIGNATURES\" | translate}}</strong></h3>\n            </div>\n            <div class=\"col-md-3\">\n              <button class=\"btn h50 w-100 btn-primary br-10\" type=\"button\"\n                (click)=\"openModal('proposal')\"><strong>{{\"SUPPLIER_BIDDING.CONTRACT_PROPOSAL\" | translate}}</strong></button>\n            </div>\n            <div class=\"col-md-12\">\n              <hr class=\"bg-secondary\">\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-12 mt-3\">\n          <div *ngIf=\"loteList.status === 'Assinado'\" class=\"row d-flex justify-content-between\">\n            <div class=\"col-md-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"ADMINISTRATION_BIDDING.ASSOCIATION\" | translate}}</h6>\n                  <h5 class=\"f-size-16\">{{loteList.value}}</h5>\n                </div>\n                <div class=\"col-md-6\">\n                  <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"SIDEBAR.SUPPLIER\" | translate}}</h6>\n                  <h5 class=\"f-size-16\">{{loteList.value}}</h5>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <button class=\"btn h50 w-100 w3-white text-dark border br-10\" type=\"button\"\n                (click)=\"openModal('edital')\"><strong>{{\"SUPPLIER_BIDDING.ORIGINAL_CONTRACT\" | translate}}</strong></button>\n            </div>\n          </div>\n          <div class=\"row d-flex justify-content-between\">\n            <div class=\"col-md-12\">\n              <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"ADMINISTRATION_BIDDING.ASSOCIATION\" | translate}}</h6>\n              <h5 class=\"f-size-16\">{{(loteList?.association_sign_date | date:'dd/MM/yyyy') || \"ASSOCIATION_CONTRACTS.AWAITING_SIGNATURES\" |\n                translate}}</h5>\n            </div>\n            <div class=\"col-md-12\">\n              <h6 class=\"font-poppins f-size-14 text-secondary\">{{\"SIDEBAR.SUPPLIER\" | translate}}</h6>\n              <h5 class=\"f-size-16\">{{(loteList?.supplier_sign_date | date:'dd/MM/yyyy') || \"ASSOCIATION_CONTRACTS.AWAITING_SIGNATURES\" | translate}}</h5>\n            </div>\n\n            <div class=\"col-md-12 mt-3\" *ngIf=\"!loteList?.supplier_sign_date\">\n              <div class=\"row\">\n                <div class=\"col-md-3\">\n                  <button class=\"btn h50 w-100 btn-success br-10\" type=\"button\"\n                    (click)=\"accept()\"><strong>{{\"SUPPLIER_BIDDING.ACCEPT\" | translate}}</strong></button>\n\n                </div>\n                <div class=\"col-md-3\">\n                  <button class=\"btn h50 w-100 btn-danger br-10\" type=\"button\"\n                    (click)=\"openModal('recusar')\"><strong>{{\"SUPPLIER_BIDDING.REFUSE\" | translate}}</strong></button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4 mt-2\" >\n          <button class=\"btn h50 w-100 btn-primary br-10\" type=\"button\" (click)=\"downloadPdf()\">\n            {{\"SIDEBAR.CONTRACTS\" | translate}}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}