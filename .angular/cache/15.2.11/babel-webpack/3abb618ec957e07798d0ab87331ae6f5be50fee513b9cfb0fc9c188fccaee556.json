{"ast":null,"code":"import _asyncToGenerator from \"/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"src/services/contract.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@ngx-translate/core\";\nimport * as i7 from \"@angular/common\";\nfunction UpdateContractModalComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"span\", 23);\n    i0.ɵɵelement(2, \"i\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.msg, \"\");\n  }\n}\nfunction UpdateContractModalComponent_div_36_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"div\", 28)(2, \"h6\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 28)(8, \"h6\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 29);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const content_r7 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 4, \"ASSOCIATION_CONTRACTS.COST_ITEM\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(content_r7.item);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 6, \"SUPPLIER_BIDDING.UNITS\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(content_r7.quantity);\n  }\n}\nfunction UpdateContractModalComponent_div_36_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UpdateContractModalComponent_div_36_div_1_div_1_Template, 13, 8, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r5.add_item);\n  }\n}\nfunction UpdateContractModalComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UpdateContractModalComponent_div_36_div_1_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.response == null ? null : ctx_r1.response.proposal_id == null ? null : ctx_r1.response.proposal_id.allotment);\n  }\n}\nfunction UpdateContractModalComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 30);\n    i0.ɵɵelement(2, \"input\", 31);\n    i0.ɵɵelementStart(3, \"label\", 32);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 30);\n    i0.ɵɵelement(7, \"input\", 33);\n    i0.ɵɵelementStart(8, \"label\", 34);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 2, \"CREATE_BIDDING.CREATE_NEW_BIDDING\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(10, 4, \"CREATE_BIDDING.CHOOSE_NEW_PROPOSAL\"), \" \");\n  }\n}\nfunction UpdateContractModalComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"label\", 36);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"CREATE_BIDDING.DELIVERED_QUANTITIES\"));\n  }\n}\nexport class UpdateContractModalComponent {\n  constructor(modalService, formBuilder, toastrService, contractService, router, translate) {\n    this.modalService = modalService;\n    this.formBuilder = formBuilder;\n    this.toastrService = toastrService;\n    this.contractService = contractService;\n    this.router = router;\n    this.translate = translate;\n    this.msg = '';\n    this.executadoParcialmente = false;\n    this.form = this.formBuilder.group({\n      newStatus: ['', [Validators.required]],\n      items_received: [''],\n      selectRadio: ''\n    });\n  }\n  // ngOnInit(): void {\n  //   console.log(this.response)\n  //   this.form.controls['newStatus'].valueChanges.subscribe({\n  //     next: data => {\n  //       if (data === 'concluido') {\n  //         this.msg = 'A situação “Concluído” indica que todos os itens foram entregues pelo fornecedor.'\n  //       }\n  //       if (data === 'executado_parcialmente') {\n  //         this.msg = 'A situação “Executado parcialmente” indica que alguns itens não foram entregues pelo fornecedor.'\n  //         this.executadoParcialmente = true;\n  //       } else {\n  //         this.executadoParcialmente = false;\n  //       }\n  //       if (data === 'inexecucao_total') {\n  //         this.msg = 'A situação “Inexecução total” indica que nenhum item não foi entregue pelo fornecedor.'\n  //       }\n  //     }\n  //   })\n  // }\n  ngOnInit() {\n    this.form.controls['newStatus'].valueChanges.subscribe({\n      next: data => {\n        if (data === 'concluido') {\n          this.msg = this.translate.instant('ASSOCIATION_CONTRACTS.COMPLETED_INDICATES');\n        }\n        if (data === 'executado_parcialmente') {\n          this.msg = this.translate.instant('ASSOCIATION_CONTRACTS.PARTIALLY_EXECUTED_INDICATES');\n          this.executadoParcialmente = true;\n        } else {\n          this.executadoParcialmente = false;\n        }\n        if (data === 'inexecucao_total') {\n          this.msg = this.translate.instant('ASSOCIATION_CONTRACTS.TOTAL_NON_EXECUTION_INDICATES');\n        }\n      }\n    });\n  }\n  exit() {\n    this.modalService.dismissAll();\n  }\n  confirm() {\n    if (this.form.controls['newStatus'].value === 'executado_parcialmente') {\n      let quantity = 0;\n      for (let iterator of this.response.proposal_id.allotment) {\n        quantity = iterator.add_item.reduce((acc, item) => acc + Number(item.quantity), 0) + quantity;\n      }\n      if (Number(this.form.controls['items_received'].value) === quantity) {\n        this.toastrService.error('O número de itens precisa ser menor que o total para considerar executado parcialmente', '', {\n          progressBar: true\n        });\n      } else {\n        let request = {\n          status: 'executado_parcialmente',\n          items_received: this.form.controls['items_received'].value\n        };\n        this.sendChanges(request);\n      }\n    }\n    if (this.form.controls['newStatus'].value === 'concluido') {\n      let request = {\n        status: 'concluido'\n      };\n      this.sendChanges(request);\n    }\n    if (this.form.controls['newStatus'].value === 'inexecucao_total') {\n      let request = {\n        status: 'inexecucao_total',\n        items_received: 0\n      };\n      this.sendChangesInexecucao(request);\n    }\n  }\n  sendChanges(request) {\n    this.contractService.updateContract(this.response._id, request).subscribe({\n      next: data => {\n        this.toastrService.success('Contrado atualizado com sucesso', '', {\n          progressBar: true\n        });\n        this.exit();\n      },\n      error: error => {\n        this.toastrService.error('Erro ao editar contrato', '', {\n          progressBar: true\n        });\n        console.error(error);\n      }\n    });\n  }\n  sendChangesInexecucao(request) {\n    this.contractService.updateContract(this.response._id, request).subscribe({\n      next: data => {\n        this.toastrService.success('Contrado atualizado com sucesso', '', {\n          progressBar: true\n        });\n        this.exit();\n        if (this.form.controls['selectRadio'].value === 'newBid') {\n          localStorage.setItem('newBid', JSON.stringify(this.response.bid_number));\n          this.router.navigate(['/licitacoes/licitacao-register']);\n        }\n        if (this.form.controls['selectRadio'].value === 'newProposal') {\n          this.router.navigate(['/associacao/licitacoes/view-proposal/' + this.response.bid_number._id]);\n        }\n      },\n      error: error => {\n        this.toastrService.error('Erro ao editar contrato', '', {\n          progressBar: true\n        });\n        console.error(error);\n      }\n    });\n  }\n  approve() {\n    var _this = this;\n    this.contractService.singAssociation(this.response?._id, {\n      status: \"concluido\",\n      association_id: this.response?.association\n    }).subscribe({\n      next: function () {\n        var _ref = _asyncToGenerator(function* (success) {\n          _this.toastrService.success(\"Aceito com sucesso!\", \"\", {\n            progressBar: true\n          });\n        });\n        return function next(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      error: function () {\n        var _ref2 = _asyncToGenerator(function* (_error) {\n          _this.toastrService.error(\"Erro ao aceitar\", \"\", {\n            progressBar: true\n          });\n        });\n        return function error(_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }()\n    });\n  }\n  static {\n    this.ɵfac = function UpdateContractModalComponent_Factory(t) {\n      return new (t || UpdateContractModalComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.ContractsService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.TranslateService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UpdateContractModalComponent,\n      selectors: [[\"app-update-contract-modal\"]],\n      inputs: {\n        response: \"response\"\n      },\n      decls: 46,\n      vars: 40,\n      consts: [[1, \"container-fluid\", \"p-4\", \"modal-custom\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"bi\", \"bi-x-lg\", \"cursor-pointer\", 3, \"click\"], [3, \"formGroup\"], [1, \"d-flex\", \"flex-column\", \"justify-content-center\"], [1, \"d-flex\", \"justify-content-center\", \"align-items-center\", \"py-2\", 2, \"border\", \"1px solid red\", \"border-radius\", \"8px\"], [1, \"bi\", \"bi-exclamation-triangle-fill\", \"text-danger\"], [1, \"text-danger\"], [1, \"text-dark\", \"my-3\"], [2, \"color\", \"#185289 !important\"], [\"for\", \"newStatus\"], [\"name\", \"\", \"id\", \"newStatus\", \"formControlName\", \"newStatus\", 1, \"form-control\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"concluido\"], [\"value\", \"executado_parcialmente\"], [\"value\", \"inexecucao_total\"], [\"class\", \"space-info mt-3 py-2\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"d-flex flex-column py-2\", 4, \"ngIf\"], [1, \"d-flex\", \"justify-content-between\", \"mt-3\"], [1, \"btn\"], [1, \"btn\", \"btn-confirm-change-status\", \"mt-3\", 3, \"click\"], [1, \"space-info\", \"mt-3\", \"py-2\"], [1, \"ms-2\", \"text-center\"], [1, \"bi\", \"bi-exclamation-triangle-fill\", \"text-info\", \"me-2\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"d-flex justify-content-between align-items-center mt-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mt-3\"], [1, \"d-flex\", \"flex-column\"], [1, \"mt-2\"], [1, \"form-check\", \"py-2\"], [\"formControlName\", \"selectRadio\", \"type\", \"radio\", \"name\", \"selectRadio\", \"id\", \"option1\", \"value\", \"newBid\", 1, \"form-check-input\"], [\"for\", \"option1\", 1, \"form-check-label\", \"mx-2\"], [\"formControlName\", \"selectRadio\", \"type\", \"radio\", \"name\", \"selectRadio\", \"id\", \"option2\", \"value\", \"newProposal\", 1, \"form-check-input\"], [\"for\", \"option2\", 1, \"form-check-label\", \"mx-2\"], [1, \"d-flex\", \"flex-column\", \"py-2\"], [\"for\", \"items_received\"], [\"type\", \"text\", \"id\", \"items_received\", \"formControlName\", \"items_received\", 1, \"form-control\"]],\n      template: function UpdateContractModalComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"h4\");\n          i0.ɵɵtext(3);\n          i0.ɵɵpipe(4, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"i\", 2);\n          i0.ɵɵlistener(\"click\", function UpdateContractModalComponent_Template_i_click_5_listener() {\n            return ctx.exit();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"form\", 3)(7, \"div\", 4)(8, \"div\", 5);\n          i0.ɵɵelement(9, \"i\", 6);\n          i0.ɵɵelementStart(10, \"span\", 7);\n          i0.ɵɵtext(11);\n          i0.ɵɵpipe(12, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"b\", 8);\n          i0.ɵɵtext(14);\n          i0.ɵɵpipe(15, \"translate\");\n          i0.ɵɵelementStart(16, \"span\", 9);\n          i0.ɵɵtext(17);\n          i0.ɵɵpipe(18, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"label\", 10);\n          i0.ɵɵtext(20);\n          i0.ɵɵpipe(21, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"select\", 11)(23, \"option\", 12);\n          i0.ɵɵtext(24);\n          i0.ɵɵpipe(25, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"option\", 13);\n          i0.ɵɵtext(27);\n          i0.ɵɵpipe(28, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"option\", 14);\n          i0.ɵɵtext(30);\n          i0.ɵɵpipe(31, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"option\", 15);\n          i0.ɵɵtext(33);\n          i0.ɵɵpipe(34, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(35, UpdateContractModalComponent_div_35_Template, 4, 1, \"div\", 16);\n          i0.ɵɵtemplate(36, UpdateContractModalComponent_div_36_Template, 2, 1, \"div\", 17);\n          i0.ɵɵtemplate(37, UpdateContractModalComponent_div_37_Template, 11, 6, \"div\", 17);\n          i0.ɵɵtemplate(38, UpdateContractModalComponent_div_38_Template, 5, 3, \"div\", 18);\n          i0.ɵɵelementStart(39, \"div\", 19)(40, \"button\", 20);\n          i0.ɵɵtext(41);\n          i0.ɵɵpipe(42, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"button\", 21);\n          i0.ɵɵlistener(\"click\", function UpdateContractModalComponent_Template_button_click_43_listener() {\n            return ctx.confirm();\n          });\n          i0.ɵɵtext(44);\n          i0.ɵɵpipe(45, \"translate\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 17, \"ASSOCIATION_CONTRACTS.CONTRACT_STATUS\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 19, \"ASSOCIATION_CONTRACTS.ACTION_UNDONE\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 21, \"ADMINISTRATION_CONTRACTS.CONTRACT\"), \": \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate2(\" \", ctx.response.contract_number, \" / \", i0.ɵɵpipeBind2(18, 23, ctx.response.createdAt, \"YYYY\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(21, 26, \"ASSOCIATION_CONTRACTS.SET_CONTRACT_STATUS\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(25, 28, \"BUTTON_TEXT.SELECT\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(28, 30, \"ADMINISTRATION_CONTRACTS.CONCLUED\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 32, \"ADMINISTRATION_CONTRACTS.EXECULTING_STEPS\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(34, 34, \"ADMINISTRATION_CONTRACTS.TOTAL_NON_EXECUTION\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.msg !== \"\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.executadoParcialmente);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.newStatus === \"inexecucao_total\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.executadoParcialmente);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(42, 36, \"BUTTON_TEXT.CANCEL\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(45, 38, \"ASSOCIATION_CONTRACTS.SET_STATUS\"));\n        }\n      },\n      dependencies: [i7.NgForOf, i7.NgIf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.RadioControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i7.DatePipe, i6.TranslatePipe],\n      styles: [\".space-info[_ngcontent-%COMP%] {\\n  border-radius: 6px !important;\\n  border: 1px solid #2557DA !important;\\n  display: flex !important;\\n  justify-content: center !important;\\n  align-items: center !important;\\n}\\n\\n.btn-confirm-change-status[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  background: #3A596D;\\n  box-shadow: 0px 2px 10px 0px rgba(25, 1, 52, 0.12);\\n  color: white !important;\\n}\\n\\ninput[type=radio][_ngcontent-%COMP%] {\\n  transform: scale(1.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZS1jb250cmFjdC1tb2RhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDZCQUFBO0VBQ0Esb0NBQUE7RUFDQSx3QkFBQTtFQUNBLGtDQUFBO0VBQ0EsOEJBQUE7QUFDSjs7QUFFQTtFQUNJLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxrREFBQTtFQUNBLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtBQUNKIiwiZmlsZSI6InVwZGF0ZS1jb250cmFjdC1tb2RhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zcGFjZS1pbmZvIHtcbiAgICBib3JkZXItcmFkaXVzOiA2cHggIWltcG9ydGFudDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMjU1N0RBICFpbXBvcnRhbnQ7XG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xufVxuXG4uYnRuLWNvbmZpcm0tY2hhbmdlLXN0YXR1cyB7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBiYWNrZ3JvdW5kOiAjM0E1OTZEO1xuICAgIGJveC1zaGFkb3c6IDBweCAycHggMTBweCAwcHggcmdiYSgyNSwgMSwgNTIsIDAuMTIpO1xuICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG5pbnB1dFt0eXBlPXJhZGlvXXtcbiAgICB0cmFuc2Zvcm06c2NhbGUoMS41KTtcbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvamVjdC9hc3NvY2lhY2FvLWNvbnRyYXRvcy1kYXRhL3VwZGF0ZS1jb250cmFjdC1tb2RhbC91cGRhdGUtY29udHJhY3QtbW9kYWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSw2QkFBQTtFQUNBLG9DQUFBO0VBQ0Esd0JBQUE7RUFDQSxrQ0FBQTtFQUNBLDhCQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0RBQUE7RUFDQSx1QkFBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7QUFDSjtBQUNBLGdnQ0FBZ2dDIiwic291cmNlc0NvbnRlbnQiOlsiLnNwYWNlLWluZm8ge1xuICAgIGJvcmRlci1yYWRpdXM6IDZweCAhaW1wb3J0YW50O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICMyNTU3REEgIWltcG9ydGFudDtcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXIgIWltcG9ydGFudDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XG59XG5cbi5idG4tY29uZmlybS1jaGFuZ2Utc3RhdHVzIHtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIGJhY2tncm91bmQ6ICMzQTU5NkQ7XG4gICAgYm94LXNoYWRvdzogMHB4IDJweCAxMHB4IDBweCByZ2JhKDI1LCAxLCA1MiwgMC4xMik7XG4gICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG59XG5cbmlucHV0W3R5cGU9cmFkaW9de1xuICAgIHRyYW5zZm9ybTpzY2FsZSgxLjUpO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","msg","ɵɵtextInterpolate","ɵɵpipeBind1","content_r7","item","quantity","ɵɵtemplate","UpdateContractModalComponent_div_36_div_1_div_1_Template","ɵɵproperty","item_r5","add_item","UpdateContractModalComponent_div_36_div_1_Template","ctx_r1","response","proposal_id","allotment","UpdateContractModalComponent","constructor","modalService","formBuilder","toastrService","contractService","router","translate","executadoParcialmente","form","group","newStatus","required","items_received","selectRadio","ngOnInit","controls","valueChanges","subscribe","next","data","instant","exit","dismissAll","confirm","value","iterator","reduce","acc","Number","error","progressBar","request","status","sendChanges","sendChangesInexecucao","updateContract","_id","success","console","localStorage","setItem","JSON","stringify","bid_number","navigate","approve","_this","singAssociation","association_id","association","_ref","_asyncToGenerator","_x","apply","arguments","_ref2","_x2","ɵɵdirectiveInject","i1","NgbModal","i2","FormBuilder","i3","ToastrService","i4","ContractsService","i5","Router","i6","TranslateService","selectors","inputs","decls","vars","consts","template","UpdateContractModalComponent_Template","rf","ctx","ɵɵlistener","UpdateContractModalComponent_Template_i_click_5_listener","UpdateContractModalComponent_div_35_Template","UpdateContractModalComponent_div_36_Template","UpdateContractModalComponent_div_37_Template","UpdateContractModalComponent_div_38_Template","UpdateContractModalComponent_Template_button_click_43_listener","ɵɵtextInterpolate2","contract_number","ɵɵpipeBind2","createdAt"],"ignoreList":[],"sourceRoot":"","sources":["/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/src/app/project/associacao-contratos-data/update-contract-modal/update-contract-modal.component.ts","/home/anthonysfarias/apps/SOL/frontend_SOL/main/sol-frontend/src/app/project/associacao-contratos-data/update-contract-modal/update-contract-modal.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { ToastrService } from 'ngx-toastr';\nimport { ContractsService } from 'src/services/contract.service';\nimport { ContractUpdateStatusItemDto } from 'src/dtos/contratos/contract-update-register-request.dto';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-update-contract-modal',\n  templateUrl: './update-contract-modal.component.html',\n  styleUrls: ['./update-contract-modal.component.scss']\n})\nexport class UpdateContractModalComponent {\n\n  @Input() response: any;\n\n  form: FormGroup;\n\n  msg: string = '';\n\n  executadoParcialmente: boolean = false;\n\n  constructor(\n    private modalService: NgbModal,\n    private formBuilder: FormBuilder,\n    private toastrService: ToastrService,\n    private contractService: ContractsService,\n    private router: Router,\n    private translate: TranslateService\n  ) {\n    this.form = this.formBuilder.group({\n      newStatus: ['', [Validators.required]],\n      items_received: [''],\n      selectRadio: ''\n    })\n  }\n\n  // ngOnInit(): void {\n  //   console.log(this.response)\n  //   this.form.controls['newStatus'].valueChanges.subscribe({\n  //     next: data => {\n  //       if (data === 'concluido') {\n  //         this.msg = 'A situação “Concluído” indica que todos os itens foram entregues pelo fornecedor.'\n  //       }\n\n  //       if (data === 'executado_parcialmente') {\n  //         this.msg = 'A situação “Executado parcialmente” indica que alguns itens não foram entregues pelo fornecedor.'\n  //         this.executadoParcialmente = true;\n  //       } else {\n  //         this.executadoParcialmente = false;\n  //       }\n\n  //       if (data === 'inexecucao_total') {\n  //         this.msg = 'A situação “Inexecução total” indica que nenhum item não foi entregue pelo fornecedor.'\n  //       }\n  //     }\n  //   })\n  // }\n\n  ngOnInit(): void {\n    this.form.controls['newStatus'].valueChanges.subscribe({\n      next: data => {\n        if (data === 'concluido') {\n          this.msg = this.translate.instant('ASSOCIATION_CONTRACTS.COMPLETED_INDICATES');\n        }\n\n        if (data === 'executado_parcialmente') {\n          this.msg = this.translate.instant('ASSOCIATION_CONTRACTS.PARTIALLY_EXECUTED_INDICATES');\n          this.executadoParcialmente = true;\n        } else {\n          this.executadoParcialmente = false;\n        }\n\n        if (data === 'inexecucao_total') {\n          this.msg = this.translate.instant('ASSOCIATION_CONTRACTS.TOTAL_NON_EXECUTION_INDICATES');\n        }\n      }\n    });\n  }\n\n  exit() {\n    this.modalService.dismissAll();\n  }\n\n  confirm() {\n    if (this.form.controls['newStatus'].value === 'executado_parcialmente') {\n      let quantity: number = 0;\n      for (let iterator of this.response.proposal_id.allotment) {\n        quantity = iterator.add_item.reduce((acc: number, item: any) => acc + Number(item.quantity), 0) + quantity;\n      }\n      if (Number(this.form.controls['items_received'].value) === quantity) {\n        this.toastrService.error('O número de itens precisa ser menor que o total para considerar executado parcialmente', '', { progressBar: true })\n      } else {\n        let request = {\n          status: 'executado_parcialmente',\n          items_received: this.form.controls['items_received'].value\n        }\n        this.sendChanges(request);\n      }\n    }\n\n    if (this.form.controls['newStatus'].value === 'concluido') {\n      let request = {\n        status: 'concluido'\n      }\n\n      this.sendChanges(request);\n\n    }\n\n    if (this.form.controls['newStatus'].value === 'inexecucao_total') {\n      let request = {\n        status: 'inexecucao_total',\n        items_received: 0\n      }\n      this.sendChangesInexecucao(request);\n    }\n  }\n\n  sendChanges(request: ContractUpdateStatusItemDto) {\n    this.contractService.updateContract(this.response._id, request).subscribe({\n      next: data => {\n        this.toastrService.success('Contrado atualizado com sucesso', '', { progressBar: true });\n        this.exit();\n      },\n      error: error => {\n        this.toastrService.error('Erro ao editar contrato', '', { progressBar: true });\n        console.error(error)\n      }\n    })\n  }\n\n  sendChangesInexecucao(request: ContractUpdateStatusItemDto) {\n    this.contractService.updateContract(this.response._id, request).subscribe({\n      next: data => {\n        this.toastrService.success('Contrado atualizado com sucesso', '', { progressBar: true });\n        this.exit();\n        if (this.form.controls['selectRadio'].value === 'newBid') {\n          localStorage.setItem('newBid', JSON.stringify(this.response.bid_number));\n          this.router.navigate(['/licitacoes/licitacao-register']);\n        }\n        if (this.form.controls['selectRadio'].value === 'newProposal') {\n          this.router.navigate(['/associacao/licitacoes/view-proposal/' + this.response.bid_number._id]);\n        }\n      },\n      error: error => {\n        this.toastrService.error('Erro ao editar contrato', '', { progressBar: true });\n        console.error(error)\n      }\n    })\n  }\n\n  approve() {\n    this.contractService\n      .singAssociation(this.response?._id!, { status: \"concluido\", association_id: this.response?.association! })\n      .subscribe({\n        next: async success => {\n          this.toastrService.success(\"Aceito com sucesso!\", \"\", { progressBar: true });\n        },\n        error: async error => {\n          this.toastrService.error(\"Erro ao aceitar\", \"\", { progressBar: true });\n        },\n      });\n  }\n\n}\n","<section class=\"container-fluid p-4 modal-custom\">\n\t<div class=\"d-flex justify-content-between\">\n\t\t<h4>{{\"ASSOCIATION_CONTRACTS.CONTRACT_STATUS\" | translate}}</h4>\n\t\t<i class=\"bi bi-x-lg cursor-pointer\" (click)=\"exit()\"></i>\n\t</div>\n\t<form [formGroup]=\"form\">\n\t\t<div class=\"d-flex flex-column justify-content-center\">\n\t\t\t<div class=\"d-flex justify-content-center align-items-center py-2\"\n\t\t\t\tstyle=\"border: 1px solid red; border-radius: 8px;\"><i\n\t\t\t\t\tclass=\"bi bi-exclamation-triangle-fill text-danger\"></i>\n\t\t\t\t<span class=\"text-danger\">\n\t\t\t\t\t{{\"ASSOCIATION_CONTRACTS.ACTION_UNDONE\" | translate}}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<b class=\"text-dark my-3\">\n\t\t\t\t{{\"ADMINISTRATION_CONTRACTS.CONTRACT\" | translate}}:\n\t\t\t\t<span style=\"color: #185289 !important;\">\n\t\t\t\t\t{{response.contract_number}} / {{response.createdAt | date: 'YYYY'}}\n\t\t\t\t</span>\n\t\t\t</b>\n\t\t\t<label for=\"newStatus\">{{\"ASSOCIATION_CONTRACTS.SET_CONTRACT_STATUS\" | translate}}</label>\n\t\t\t<select name id=\"newStatus\" formControlName=\"newStatus\" class=\"form-control\">\n\t\t\t\t<option value disabled selected>{{\"BUTTON_TEXT.SELECT\" | translate}}</option>\n\t\t\t\t<option value=\"concluido\">{{\"ADMINISTRATION_CONTRACTS.CONCLUED\" | translate}}</option>\n\t\t\t\t<option value=\"executado_parcialmente\">{{\"ADMINISTRATION_CONTRACTS.EXECULTING_STEPS\" | translate}}</option>\n\t\t\t\t<option value=\"inexecucao_total\">{{\"ADMINISTRATION_CONTRACTS.TOTAL_NON_EXECUTION\" | translate}}</option>\n\t\t\t</select>\n\n\t\t\t<div class=\"space-info mt-3 py-2\" *ngIf=\"msg !== ''\">\n\t\t\t\t<span class=\"ms-2 text-center\"><i class=\"bi bi-exclamation-triangle-fill text-info me-2\"></i>\n\t\t\t\t\t{{msg}}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=\"executadoParcialmente\">\n\t\t\t\t<div *ngFor=\"let item of response?.proposal_id?.allotment\">\n\t\t\t\t\t<div *ngFor=\"let content of item.add_item\"\n\t\t\t\t\t\tclass=\"d-flex justify-content-between align-items-center mt-3\">\n\t\t\t\t\t\t<div class=\"d-flex flex-column\">\n\t\t\t\t\t\t\t<h6>{{\"ASSOCIATION_CONTRACTS.COST_ITEM\" | translate}}</h6>\n\t\t\t\t\t\t\t<span class=\"mt-2\">{{content.item}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"d-flex flex-column\">\n\t\t\t\t\t\t\t<h6>{{\"SUPPLIER_BIDDING.UNITS\" | translate}}</h6>\n\t\t\t\t\t\t\t<span class=\"mt-2\">{{content.quantity}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=\"form.value.newStatus=== 'inexecucao_total'\">\n\t\t\t\t<div class=\"form-check py-2\">\n\t\t\t\t\t<input class=\"form-check-input\" formControlName=\"selectRadio\" type=\"radio\" name=\"selectRadio\" id=\"option1\" value=\"newBid\">\n\t\t\t\t\t<label class=\"form-check-label mx-2\" for=\"option1\">\n\t\t\t\t\t\t{{\"CREATE_BIDDING.CREATE_NEW_BIDDING\" | translate}}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-check py-2\">\n\t\t\t\t\t<input class=\"form-check-input\" formControlName=\"selectRadio\" type=\"radio\" name=\"selectRadio\" id=\"option2\" value=\"newProposal\">\n\t\t\t\t\t<label class=\"form-check-label mx-2\" for=\"option2\">\n\t\t\t\t\t\t{{\"CREATE_BIDDING.CHOOSE_NEW_PROPOSAL\" | translate}}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=\"executadoParcialmente\" class=\"d-flex flex-column py-2\">\n\t\t\t\t<label for=\"items_received\">{{\"CREATE_BIDDING.DELIVERED_QUANTITIES\" | translate}}</label>\n\t\t\t\t<input type=\"text\" id=\"items_received\" class=\"form-control\" formControlName=\"items_received\">\n\t\t\t</div>\n\n\t\t\t<div class=\"d-flex justify-content-between mt-3\">\n\t\t\t\t<button class=\"btn\">{{\"BUTTON_TEXT.CANCEL\" | translate}}</button>\n\t\t\t\t<button class=\"btn btn-confirm-change-status mt-3\" (click)=\"confirm()\">{{\"ASSOCIATION_CONTRACTS.SET_STATUS\" | translate}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}